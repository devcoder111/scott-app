(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["app"],{0:function(e,a,n){e.exports=n("2f39")},"034f":function(e,a,n){"use strict";var t=n("306c"),r=n.n(t);r.a},"1b68":function(e,a,n){},"2f39":function(e,a,n){"use strict";n.r(a);var t=n("a34a"),r=n.n(t),o=(n("96cf"),n("c973")),i=n.n(o),c=(n("7d6e"),n("e54f"),n("21cb"),n("3e27"),n("1b68"),n("7e6d"),n("2b0e")),s=n("b05d"),u=n("4d5a"),d=n("9898"),f=n("f2cc"),l=n("c7a0"),p=n("2ea3"),h=n("65c6"),g=n("6ac5"),b=n("9c40"),m=n("0016"),Q=n("497d"),v=n("6ab5"),w=n("033f"),I=n("e208"),x=n("eaac"),F=n("db86"),U=n("bd08"),y=n("357e"),S=n("d847"),N=n("07d0"),T=n("429b"),k=n("7460"),A=n("7867"),C=n("8f8e"),L=n("24e8"),D=n("f09f"),P=n("a370"),R=n("4b7e"),E=n("2c91"),B=n("27f9"),j=n("c859"),O=n("7cbe"),$=n("24a7"),q=n("54e1"),V=n("ddd8"),z=n("4983"),H=n("9564"),J=n("adad"),W=n("823b"),_=n("eb85"),K=n("0d59"),M=n("714f"),Y=n("7f67"),Z=n("f449"),G=n("2a19"),X=n("436b"),ee=n("18d6");c["a"].use(s["a"],{config:{},components:{QLayout:u["a"],QHeader:d["a"],QDrawer:f["a"],QPageContainer:l["a"],QPage:p["a"],QToolbar:h["a"],QToolbarTitle:g["a"],QBtn:b["a"],QIcon:m["a"],QList:Q["a"],QItem:v["a"],QItemSection:w["a"],QItemLabel:I["a"],QTable:x["a"],QTd:F["a"],QTr:U["a"],QTh:y["a"],QBar:S["a"],QFooter:N["a"],QTabs:T["a"],QTab:k["a"],QRouteTab:A["a"],QCheckbox:C["a"],QDialog:L["a"],QCard:D["a"],QCardSection:P["a"],QCardActions:R["a"],QSpace:E["a"],QInput:B["a"],QDate:j["a"],QPopupProxy:O["a"],QTime:$["a"],QBanner:q["a"],QSelect:V["a"],QScrollArea:z["a"],QToggle:H["a"],QTabPanels:J["a"],QTabPanel:W["a"],QSeparator:_["a"],QSpinner:K["a"]},directives:{Ripple:M["a"],ClosePopup:Y["a"],TouchHold:Z["a"]},plugins:{Notify:G["a"],Dialog:X["a"],LocalStorage:ee["a"]}});var ae=function(){var e=this,a=e.$createElement,n=e._self._c||a;return n("div",{attrs:{id:"q-app"}},[n("router-view")],1)},ne=[],te=n("3156"),re=n.n(te),oe=n("2f62"),ie={methods:re()({},Object(oe["b"])("auth",["handleAuthStateChange"])),mounted:function(){this.handleAuthStateChange()}},ce=ie,se=(n("034f"),n("2877")),ue=Object(se["a"])(ce,ae,ne,!1,null,null,null),de=ue.exports,fe=(n("ac6a"),n("f751"),n("1732")),le=n("f508"),pe=n("fc1b"),he=(n("e71f"),{friends:{}}),ge={addFriend:function(e,a){a.friend.friendID=a.docRefid,console.log("add",a),c["a"].set(e.friends,a.docRefid,a.friend),console.log("friendstate",e.friends)},updateFriend:function(e,a){console.log("updatepayload",a.updates),console.log("edit",a,e.friends[a.id]),Object.assign(e.friends[a.id],{firstName:a.updates.firstName,lastName:a.updates.lastName,email:a.updates.email,friendID:a.id})}},be={fbReadFriends:function(){var e=i()(r.a.mark(function e(a,n){var t,o,i;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.commit,o=pe["b"].currentUser.uid,e.next=4,pe["c"].collection("user").doc(o).collection("friends");case 4:i=e.sent,i.onSnapshot(function(e){e.forEach(function(e){var a=e.data();console.log("friend",a);var n={docRefid:e.id,friend:a};t("addFriend",n)})});case 6:case"end":return e.stop()}},e)}));function a(a,n){return e.apply(this,arguments)}return a}(),addFriend:function(e,a){var n=e.dispatch;n("fbAddFriend",a)},fbAddFriend:function(){var e=i()(r.a.mark(function e(a,n){var t,o,i;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t=a.commit,o=pe["b"].currentUser.uid,e.next=4,pe["c"].collection("user").doc(o).collection("friends");case 4:i=e.sent,i.add({firstName:n.firstName,lastName:n.lastName,email:n.email}).then(function(e){console.log("Document written with ID: ",e.id),G["a"].create("Friend added!");var a={docRefid:e.id,friend:n};t("addFriend",a)}).catch(function(e){console.error("Error adding document: ",e)});case 6:case"end":return e.stop()}},e)}));function a(a,n){return e.apply(this,arguments)}return a}(),updateFriend:function(){var e=i()(r.a.mark(function e(a,n){var t,o,i,c,s;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return a.dispatch,t=a.commit,o=pe["b"].currentUser.uid,i=n.id,e.next=5,pe["c"].collection("user").doc(o).collection("friends").doc(i);case 5:c=e.sent,console.log("dd",c,n),s={id:i,updates:n.updates},console.log("ee",s),t("updateFriend",s),c.update({firstName:n.updates.firstName,lastName:n.updates.lastName,email:n.updates.email}).then(function(){G["a"].create("Friend Updated!")});case 11:case"end":return e.stop()}},e)}));function a(a,n){return e.apply(this,arguments)}return a}()},me={friends:function(e){return e.friends}},Qe={namespaced:!0,state:he,mutations:ge,actions:be,getters:me};n("a481");function ve(e){le["a"].hide(),X["a"].create({title:"Error",message:e})}var we={loggedIn:!1,loggedInUser:""},Ie={setLoggedIn:function(e,a){e.loggedIn=a},setLoggedInUser:function(e,a){e.loggedInUser=a}},xe={registerUser:function(e,a){e.dispatch;le["a"].show(),pe["b"].createUserWithEmailAndPassword(a.email,a.password).then(function(e){console.log("response: ",e),a.uid=e.user.uid;var n=Object(fe["a"])();a.id=n,console.log("payl",a)}).catch(function(e){ve(e.message)})},loginUser:function(e,a){var n=e.commit;le["a"].show(),pe["b"].signInWithEmailAndPassword(a.email,a.password).then(function(e){console.log("response: ",e),n("setLoggedInUser",e.user.email)}).catch(function(e){ve(e.message)})},logoutUser:function(e){e.commit;console.log("logoutUser"),pe["b"].signOut()},handleAuthStateChange:function(e){var a=this,n=e.commit,t=e.dispatch;pe["b"].onAuthStateChanged(function(e){le["a"].hide(),e?(n("setLoggedIn",!0),ee["a"].set("loggedIn",!0),a.$router.push("/friends"),t("settings/fbReadFriends",null,{root:!0})):(n("setLoggedIn",!1),ee["a"].set("loggedIn",!1),a.$router.replace("/auth"))})}},Fe={loggedInUser:function(e){return e.loggedInUser}},Ue={namespaced:!0,state:we,mutations:Ie,actions:xe,getters:Fe};c["a"].use(oe["a"]);var ye=function(){var e=new oe["a"].Store({modules:{settings:Qe,auth:Ue},strict:!1});return e},Se=n("8c4f"),Ne=[{path:"/main",component:function(){return n.e("1455bb14").then(n.bind(null,"a9c3"))},children:[{path:"/friends",component:function(){return n.e("02d4739e").then(n.bind(null,"f3ea"))}},{path:"/auth",component:function(){return n.e("31d4598b").then(n.bind(null,"f724"))}}]}],Te=Ne;c["a"].use(Se["a"]);var ke=function(){var e=new Se["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:Te,mode:"hash",base:""});return e},Ae=function(){var e="function"===typeof ye?ye({Vue:c["a"]}):ye,a="function"===typeof ke?ke({Vue:c["a"],store:e}):ke;e.$router=a;var n={el:"#q-app",router:a,store:e,render:function(e){return e(de)}};return{app:n,store:e,router:a}},Ce=function(e){var a=e.router;a.beforeEach(function(e,a,n){var t=ee["a"].getItem("loggedIn");t||e.path,n()})},Le=Ae(),De=Le.app,Pe=Le.store,Re=Le.router;function Ee(){return Be.apply(this,arguments)}function Be(){return Be=i()(r.a.mark(function e(){var a,n;return r.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a=[pe["default"],Ce],n=0;case 2:if(!(n<a.length)){e.next=20;break}if("function"===typeof a[n]){e.next=5;break}return e.abrupt("continue",17);case 5:return e.prev=5,e.next=8,a[n]({app:De,router:Re,store:Pe,Vue:c["a"],ssrContext:null});case 8:e.next=17;break;case 10:if(e.prev=10,e.t0=e["catch"](5),!e.t0||!e.t0.url){e.next=15;break}return window.location.href=e.t0.url,e.abrupt("return");case 15:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 17:n++,e.next=2;break;case 20:new c["a"](De);case 21:case"end":return e.stop()}},e,null,[[5,10]])})),Be.apply(this,arguments)}Ee()},"306c":function(e,a,n){},"7e6d":function(e,a,n){},fc1b:function(e,a,n){"use strict";n.d(a,"b",function(){return i}),n.d(a,"c",function(){return c});var t=n("59ca"),r=(n("e71f"),n("ea7b"),n("66ce"),{apiKey:"AIzaSyBg0lQg4U-Fh0nNIsFZYvLt3slMqu1NFEo",authDomain:"fb101-286a0.firebaseapp.com",databaseURL:"https://fb101-286a0.firebaseio.com",projectId:"fb101-286a0",storageBucket:"fb101-286a0.appspot.com",messagingSenderId:"617138214589",appId:"1:617138214589:web:58864af1dae94908da49d4"}),o=t["initializeApp"](r),i=o.auth(),c=(o.database(),t["firestore"]())}},[[0,"runtime","vendor"]]]);